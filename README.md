# UPDRS Part III 評価アプリケーション

VSCMCPを利用して作成されたMDS-UPDRS Part III（運動機能検査）評価システムです。

## 概要

このアプリケーションは、パーキンソン病患者の運動機能を評価するためのMDS-UPDRS Part IIIスケールをデジタル化したものです。医療従事者が患者の運動症状を標準化された方法で評価・記録できます。

## 主な機能

- **完全なMDS-UPDRS Part III評価**: 全33項目の評価項目を網羅
- **自動サブタイプ判定**: 振戦優位型（TD）、無動固縮型（AR）、混合型（MX）の自動分類
- **リアルタイム進捗表示**: 評価の進行状況を視覚的に確認
- **CSV出力**: 評価結果をCSVファイルで保存・管理
- **直感的なUI**: 使いやすいWebベースのインターフェース

## 評価項目

### 基本項目
- 3.1: 言語
- 3.2: 顔面表情
- 3.3: 固縮（頸部、四肢）
- 3.4-3.8: 運動機能検査（指タッピング、手の動作、回内回外運動など）
- 3.9-3.14: 総合的な運動機能（立ち上がり、歩行、姿勢など）

### 振戦評価
- 3.15: 姿勢時振戦
- 3.16: 動作時振戦
- 3.17: 安静時振戦振幅
- 3.18: 安静時振戦の持続性

## インストールと使用方法

### 1. 必要なパッケージのインストール
```bash
pip install -r requirements.txt
```

### 2. アプリケーションの起動
```bash
streamlit run app.py
```

### 3. ブラウザでアクセス
アプリケーションが起動すると、通常は `http://localhost:8501` でアクセスできます。

## 使用手順

1. **患者情報入力**: サイドバーで患者ID、評価日、薬物治療状態を入力
2. **評価実施**: 各項目を順番に評価し、適切なスコア（0-4点）を選択
3. **進捗確認**: サイドバーで評価の進捗状況を確認
4. **結果保存**: 全項目完了後、「保存」ボタンでCSVファイルに結果を保存

## サブタイプ分類

### MDS-UPDRS基準
- 振戦優位型（TD）: TD/AR比 ≥ 0.82
- 無動固縮型（AR）: TD/AR比 ≤ 0.71
- 混合型（MX）: 0.71 < TD/AR比 < 0.82

### 従来基準
- 振戦優位型（TD）: 振戦スコア ≥ 2 × 無動固縮スコア
- 無動固縮型（AR）: 無動固縮スコア ≥ 2 × 振戦スコア
- 混合型（MX）: 上記以外

## 出力ファイル

評価結果は `updrs_evaluations_YYYYMMDD.csv` 形式で保存され、以下の情報を含みます：

- 患者ID、評価日、薬物治療状態
- 各項目のスコア（score_3.1 ～ score_3.18）
- 合計スコア、振戦スコア、無動固縮スコア
- TD/AR比とサブタイプ分類結果

## 技術仕様

- **フレームワーク**: Streamlit
- **言語**: Python 3.7+
- **依存関係**: pandas, numpy, streamlit

## ライセンス

© 2024 UPDRS Part III 評価システム - VSCMCPを利用したアプリケーション

## 注意事項

このアプリケーションは教育・研究目的で作成されています。実際の医療現場での使用の際は、適切な医療従事者の監督の下で使用してください。